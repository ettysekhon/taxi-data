## Reusable Flows with Subflows

Another feature of Kestra are Subflows. Often core business logic needs to be repeated in several places which would require us to break the DRY (Don't repeat yourself) principle. It'd be harder to maintain since a change to the logic needs to be made in several places.

Additionally, we often want to have a more modular separation where on flow orchestrates multiple subtasks to do certain things. 

In both cases, Subflows allow us to split and reuse our logic.

With the GitHub TenantSync snc you now already have all the flows in your Kestra btw ;)

Here is how to use Subflows:

Link to the subflow: [Sub-flow on GitHub](https://github.com/andkret/kestra-demo/blob/9ae8ae5d8ffdd5c560e254db4d6573ba3e0b82fa/dev.testing/flows/2_3/critical_service_subflow.yaml)

Link to the parent flow: [Parent-flow on Github](https://github.com/andkret/kestra-demo/blob/9ae8ae5d8ffdd5c560e254db4d6573ba3e0b82fa/dev.testing/flows/2_3/parent_service.yaml)


A few things to note here:
- The parent flow waits for the subflow to be finished before proceeding to the task `log_subflow_output`. You can also let them run at the same time with `wait: false`. But in this case this makes obviously no sense.
- The shown text for your subflow task can differ from it's name. In the Kestra UI, the `id` property will be shown, while the `flowId` is the actual reference to the subflow.
- In the example, if the referenced subflow fails, the parent flow will also stop working (see `transmitFailed`). This can be changed, if later tasks don't require the previous flows to succeed. However, if set to true, then you also need `wait` to be set to true.

ðŸ‘‰ More info about [Subflows](https://kestra.io/docs/workflow-components/subflows). 
